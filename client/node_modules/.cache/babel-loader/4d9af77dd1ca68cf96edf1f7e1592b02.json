{"ast":null,"code":"import _classCallCheck from \"/Users/julia_athayde/Desktop/Senior_Year/Image_Processing/Project/Steganography-Project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/julia_athayde/Desktop/Senior_Year/Image_Processing/Project/Steganography-Project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/julia_athayde/Desktop/Senior_Year/Image_Processing/Project/Steganography-Project/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/julia_athayde/Desktop/Senior_Year/Image_Processing/Project/Steganography-Project/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/julia_athayde/Desktop/Senior_Year/Image_Processing/Project/Steganography-Project/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/julia_athayde/Desktop/Senior_Year/Image_Processing/Project/Steganography-Project/client/src/Components/imageupload.js\";\n// Initial code from GitHub\n// https://gist.github.com/AshikNesin/e44b1950f6a24cfcd85330ffc1713513\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\n\nvar ImageUpload =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ImageUpload, _Component);\n\n  function ImageUpload(props) {\n    var _this;\n\n    _classCallCheck(this, ImageUpload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageUpload).call(this, props));\n    _this.state = {\n      message: '',\n      imageurl: ''\n    };\n    return _this;\n  }\n\n  _createClass(ImageUpload, [{\n    key: \"handleChange\",\n    value: function handleChange(file) {\n      var _this2 = this;\n\n      console.log(file.name);\n      this.props.startLoad();\n      var contents;\n      var callbackProp = this.props.callback;\n      var reader = new FileReader();\n      reader.readAsArrayBuffer(file);\n\n      reader.onloadend = function () {\n        contents = reader.result;\n        var request = new Request('/decode', {\n          method: 'POST',\n          body: contents\n        });\n        fetch(request).then(function (response) {\n          if (!response.ok) {\n            throw new Error(response.status_text);\n          }\n\n          return response.json();\n        }).then(function (jsonurl) {\n          _this2.setState({\n            imageurl: jsonurl.url\n          });\n        });\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var uploadButton = React.createElement(Input, {\n        type: \"file\",\n        id: \"file\",\n        placeholder: \"Encode\",\n        onChange: function onChange(e) {\n          return _this3.handleChange(e.target.files[0], _this3.props);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, uploadButton, React.createElement(\"h1\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.state.message), this.state.imageurl && React.createElement(\"img\", {\n        src: this.state.imageurl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ImageUpload;\n}(Component);\n\nImageUpload.propTypes = {\n  callback: PropTypes.func.isRequired,\n  startLoad: PropTypes.func.isRequired\n};\nexport default ImageUpload;","map":{"version":3,"sources":["/Users/julia_athayde/Desktop/Senior_Year/Image_Processing/Project/Steganography-Project/client/src/Components/imageupload.js"],"names":["React","Component","PropTypes","Input","ImageUpload","props","state","message","imageurl","file","console","log","name","startLoad","contents","callbackProp","callback","reader","FileReader","readAsArrayBuffer","onloadend","result","request","Request","method","body","fetch","then","response","ok","Error","status_text","json","jsonurl","setState","url","uploadButton","e","handleChange","target","files","propTypes","func","isRequired"],"mappings":";;;;;;AAAA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,KAAR,QAAoB,YAApB;;IAGMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AAGA,UAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,EADE;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAJiB;AAQlB;;;;iCAEYC,I,EAAM;AAAA;;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB;AACA,WAAKP,KAAL,CAAWQ,SAAX;AACA,UAAIC,QAAJ;AACA,UAAMC,YAAY,GAAG,KAAKV,KAAL,CAAWW,QAAhC;AAGA,UAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,iBAAP,CAAyBV,IAAzB;;AACAQ,MAAAA,MAAM,CAACG,SAAP,GAAmB,YAAM;AACvBN,QAAAA,QAAQ,GAAGG,MAAM,CAACI,MAAlB;AAEA,YAAMC,OAAO,GAAG,IAAIC,OAAJ,CACd,SADc,EAEd;AACEC,UAAAA,MAAM,EAAE,MADV;AAEEC,UAAAA,IAAI,EAAEX;AAFR,SAFc,CAAhB;AAQAY,QAAAA,KAAK,CAACJ,OAAD,CAAL,CACGK,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,cAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,kBAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,WAAnB,CAAN;AACD;;AACD,iBAAOH,QAAQ,CAACI,IAAT,EAAP;AACD,SANH,EAOGL,IAPH,CAOQ,UAACM,OAAD,EAAa;AACjB,UAAA,MAAI,CAACC,QAAL,CAAc;AAAC1B,YAAAA,QAAQ,EAAEyB,OAAO,CAACE;AAAnB,WAAd;AACD,SATH;AAUD,OArBD;AAsBD;;;6BAGQ;AAAA;;AACP,UAAMC,YAAY,GAAG,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,MAAtB;AAA6B,QAAA,WAAW,EAAC,QAAzC;AAAkD,QAAA,QAAQ,EAAE,kBAAAC,CAAC;AAAA,iBAAI,MAAI,CAACC,YAAL,CAAkBD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAlB,EAAqC,MAAI,CAACnC,KAA1C,CAAJ;AAAA,SAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArB;AAEA,aACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG+B,YADH,EAEE;AAAI,QAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqB,KAAK9B,KAAL,CAAWC,OAAhC,CAFF,EAII,KAAKD,KAAL,CAAWE,QAAX,IAAwB;AAAK,QAAA,GAAG,EAAE,KAAKF,KAAL,CAAWE,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJ5B,CADF;AASD;;;;EAzDuBP,S;;AA4D1BG,WAAW,CAACqC,SAAZ,GAAwB;AACtBzB,EAAAA,QAAQ,EAAEd,SAAS,CAACwC,IAAV,CAAeC,UADH;AAEtB9B,EAAAA,SAAS,EAAEX,SAAS,CAACwC,IAAV,CAAeC;AAFJ,CAAxB;AAKA,eAAevC,WAAf","sourcesContent":["// Initial code from GitHub\n// https://gist.github.com/AshikNesin/e44b1950f6a24cfcd85330ffc1713513\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {Input} from 'reactstrap';\n\n\nclass ImageUpload extends Component {\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      message: '',\n      imageurl: '',\n    };\n  }\n\n  handleChange(file) {\n    console.log(file.name);\n    this.props.startLoad();\n    let contents;\n    const callbackProp = this.props.callback;\n\n\n    const reader = new FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      contents = reader.result;\n\n      const request = new Request(\n        '/decode',\n        {\n          method: 'POST',\n          body: contents,\n        },\n      );\n\n      fetch(request)\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.status_text);\n          }\n          return response.json();\n        })\n        .then((jsonurl) => {\n          this.setState({imageurl: jsonurl.url});\n        });\n    };\n  }\n\n\n  render() {\n    const uploadButton = <Input type=\"file\" id=\"file\" placeholder=\"Encode\" onChange={e => this.handleChange(e.target.files[0], this.props)} />;\n\n    return (\n      <Form>\n        {uploadButton}\n        <h1 align=\"center\" >{this.state.message}</h1>\n        {\n          this.state.imageurl && (<img src={this.state.imageurl}/>)\n        }\n      </Form>\n    );\n  }\n}\n\nImageUpload.propTypes = {\n  callback: PropTypes.func.isRequired,\n  startLoad: PropTypes.func.isRequired,\n};\n\nexport default ImageUpload;\n"]},"metadata":{},"sourceType":"module"}